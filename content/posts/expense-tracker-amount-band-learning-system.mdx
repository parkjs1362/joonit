---
title: "가계부 자동분류 정확도 올린 핵심: 금액대(Amount Band) 학습"
description: "가맹점 이름만으로는 분류가 자주 틀립니다. 금액대 학습을 결합해 자동분류 정확도를 개선한 방법을 정리합니다."
date: "2026-02-18"
category: "개발"
tags: ["가계부", "데이터", "자동분류", "제품운영"]
---

가계부 자동분류를 만들 때 가장 먼저 부딪히는 문제는 **같은 가맹점의 다중 용도**입니다.  
이름만 보고 분류하면 쿠팡, 코스트코, 편의점 거래에서 오분류가 반복됩니다.

실제로 정확도를 올린 포인트는 규칙을 늘리는 것이 아니라 **금액대 학습(Amount Band)**을 붙이는 방식이었습니다.

## 1) 1차 분류는 가맹점 키워드로 빠르게 처리

초기 분류 속도를 위해 가맹점 키워드를 기본 축으로 둡니다.  
이 단계는 recall을 확보하는 역할입니다.

## 2) 2차 분류에서 금액대 범위를 적용

동일 가맹점에서 용도가 갈리는 케이스를 금액대 범위로 재분류합니다.

- 최근 라벨 기준 중앙값 추정
- 허용 범위(예: ±30%) 매칭
- 범위 밖 항목은 수동 검토 큐로 이동

이렇게 하면 “같은 상호, 다른 목적” 문제를 크게 줄일 수 있습니다.

## 3) 수동 수정은 학습 자산으로 즉시 반영

수동 분류는 비용이 아니라 학습 데이터입니다.

- 가맹점 + 금액대 + 최종 카테고리 저장
- 월별 스냅샷에 분류 결과 기록
- 다음 실행 때 우선 적용

## 4) 정확도는 전체보다 예외군을 따로 본다

전체 정확도만 보면 개선 포인트가 흐려집니다.

- 문맥 의존군(여행/선물/가족 공동지출)
- 고빈도 다중용도 가맹점
- 신규 가맹점

예외군 지표를 분리해야 실제 체감 정확도가 올라갑니다.

## 근거: 분류 문제의 본질은 모델이 아니라 라벨 구조다

가맹점 단일 키는 현실의 소비 패턴을 충분히 설명하지 못합니다.

- 동일 상호의 다목적 소비가 많습니다.
- 금액대는 용도 추정에 강한 보조 신호입니다.
- 수동 수정 로그가 누적될수록 개인화 정확도가 빨라집니다.

## 실행 방법: 분류 품질 개선 루프

1. 가맹점 키워드 1차 분류를 유지한다.
2. 금액대 밴드 기준을 카테고리별로 설정한다.
3. 수동 수정 건을 즉시 로컬 학습 테이블에 저장한다.
4. 월말에 오분류 Top 20 가맹점을 재학습한다.
5. 다음 달 동일 지표(정확도/미분류/오분류)로 비교한다.

## 오늘의 메모

자동분류 정확도는 거대한 규칙셋보다  
작은 학습 루프를 꾸준히 도는 쪽이 더 빨리 올라갑니다.
